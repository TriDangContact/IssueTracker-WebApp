{"version":3,"sources":["webpack:///./src/Page.jsx"],"names":["NavBar","user","onUserChange","Footer","Page","React","Component","constructor","props","state","signedIn","givenName","bind","componentDidMount","apiEndpoint","window","ENV","UI_AUTH_ENDPOINT","response","fetch","method","credentials","body","text","result","JSON","parse","setState","render"],"mappings":"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","file":"server.aa1a807a38d2a3908cfb.hot-update.js","sourcesContent":["import React from 'react';\nimport {\n\tNavbar,\n\tNav,\n\tNavItem,\n\tNavDropdown,\n\tMenuItem,\n\tGlyphicon,\n\tGrid,\n\tCol\n} from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nimport Contents from './Contents.jsx';\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\nimport Search from './Search.jsx';\nimport SignInNavItem from './SignInNavItem.jsx';\nimport UserContext from './UserContext.js';\nimport render from '../server/render.jsx';\n\n// create a simple navbar that links to our routes\nfunction NavBar({ user, onUserChange }) {\n\treturn (\n\t\t<Navbar fluid collapseOnSelect>\n\t\t\t<Navbar.Header>\n\t\t\t\t<Navbar.Brand>Issue Tracker</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle />\n\t\t\t</Navbar.Header>\n\t\t\t<Navbar.Collapse>\n\t\t\t\t<Nav>\n\t\t\t\t\t<LinkContainer exact to=\"/\">\n\t\t\t\t\t\t<NavItem>Home</NavItem>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to=\"/issues\">\n\t\t\t\t\t\t<NavItem>Issue List</NavItem>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t<LinkContainer to=\"/report\">\n\t\t\t\t\t\t<NavItem>Report</NavItem>\n\t\t\t\t\t</LinkContainer>\n\t\t\t\t</Nav>\n\n\t\t\t\t<Col sm={5}>\n\t\t\t\t\t<Navbar.Form>\n\t\t\t\t\t\t<Search />\n\t\t\t\t\t</Navbar.Form>\n\t\t\t\t</Col>\n\n\t\t\t\t<Nav pullRight>\n\t\t\t\t\t<IssueAddNavItem />\n\t\t\t\t\t<SignInNavItem user={user} onUserChange={onUserChange} />\n\t\t\t\t\t<NavDropdown\n\t\t\t\t\t\tid=\"user-dropdown\"\n\t\t\t\t\t\ttitle={<Glyphicon glyph=\"option-vertical\" />}\n\t\t\t\t\t\tnoCaret\n\t\t\t\t\t>\n\t\t\t\t\t\t<LinkContainer to=\"/about\">\n\t\t\t\t\t\t\t<MenuItem>About</MenuItem>\n\t\t\t\t\t\t</LinkContainer>\n\t\t\t\t\t</NavDropdown>\n\t\t\t\t</Nav>\n\t\t\t</Navbar.Collapse>\n\t\t</Navbar>\n\t);\n}\n\nfunction Footer() {\n\treturn (\n\t\t<small>\n\t\t\t<p className=\"text-center\">\n\t\t\t\tFull source code available at this{' '}\n\t\t\t\t<a href=\"https://github.com/vasansr/pro-mern-stack-2\">\n\t\t\t\t\tGitHub repository\n\t\t\t\t</a>\n\t\t\t</p>\n\t\t</small>\n\t);\n}\n\nexport default class Page extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { user: { signedIn: false, givenName: '' } };\n\t\tthis.onUserChange = this.onUserChange.bind(this);\n\t}\n\n\tasync componentDidMount() {\n\t\tconst apiEndpoint = window.ENV.UI_AUTH_ENDPOINT;\n\t\tconst response = await fetch(`${apiEndpoint}/user`, {\n\t\t\tmethod: 'POST',\n\t\t\tcredentials: 'include'\n\t\t});\n\t\tconst body = await response.text();\n\t\tconst result = JSON.parse(body);\n\t\tconst { signedIn, givenName } = result;\n\t\tthis.setState({ user: { signedIn, givenName } });\n\t}\n\n\tonUserChange(user) {\n\t\tthis.setState({ user });\n\t}\n\n\trender() {\n\t\tconst { user } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<NavBar user={user} onUserChange={this.onUserChange} />\n\t\t\t\t<Grid fluid>\n\t\t\t\t\t<UserContext.Provider value={user}>\n\t\t\t\t\t\t<Contents />\n\t\t\t\t\t</UserContext.Provider>\n\t\t\t\t</Grid>\n\t\t\t\t<hr />\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t);\n\t}\n}\n"],"sourceRoot":""}